<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Messaging Page</title>
    <!-- Google Fonts and FontAwesome -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Dosis:wght@200..800&display=swap"
        rel="stylesheet"
    />
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link rel="stylesheet" href="messagingDashboard.css" />
</head>
<body>
    <!-- Top Banner Section -->
    <div class="topBanner">
        <h1>UChat</h1>
        <img src="/dist/pickaxe.png" alt="Pickaxe Icon" class="pickaxe" />
        <!-- Search Bar inside the top banner -->
        <div class="searchContainer">
            <input type="text" placeholder="Search..." />
            <button id="notificationBell">
                <span style="font-size: 20px">ðŸ””</span>
                <span id="notificationDot"></span>
            </button>
        </div>
        <!-- Buttons inside the top banner -->
        <div class="topBannerButtons">
          <button id="addFriendButton">+ Add Friend</button>
          <button id="newChat">+ New Chat</button>
          <ul id="friendsDropdown" style="display: none"></ul>
          <div class="settings-container">
            <button id="settingsButton">
                <i class="fas fa-gear"></i>
            </button>
            <div class="settings-dropdown">
                <ul>
                    <li id="profilePictureButton">
                        <i class="fas fa-camera"></i>
                        Change Profile Picture
                    </li>
                    <li id="signOutButton">
                        <i class="fas fa-sign-out-alt"></i>
                        Sign Out
                    </li>
                </ul>
            </div>
        </div>
      </div>
        </div>
    </div>

    <!-- Content Container -->
    <div class="content-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <ul id="chatList">
                <!-- Chat items will be dynamically inserted here -->
            </ul>
        </div>

        <!-- Main Content Area -->
        <div class="main-content">
            <div class="welcome-message">
              <h2>Welcome to UChat</h2>
              <p>
                  <i class="fas fa-comments"></i>
                  Select a conversation to start chatting
              </p>
          </div>
        </div>
    </div>

    <!-- Add Friend Modal -->
    <div id="addFriendModal">
        <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <h3>Add a Friend</h3>
            <input
                type="text"
                id="friendEmail"
                placeholder="Enter friend's email"
            />
            <button id="sendFriendRequest">Send Request</button>
        </div>
    </div>
    <!-- New Group Chat Modal -->
    <div id="newGroupChatModal" class="modal">
      <div class="modal-content">
        <span class="close" id="closeNewGroupChatModal">&times;</span>
        <h3>Create a New Group Chat</h3>
        
        <!-- Group Chat Name Input -->
        <input type="text" id="groupChatName" placeholder="Group chat name" />

        <!-- New section for selecting friends -->
        <h4>Select Friends</h4>
        <div id="friendsSelectionContainer">
          <ul id="friendsList">
            <!-- Friends list will be populated here -->
          </ul>
        </div>

        <!-- Create Group Chat Button -->
        <button id="createGroupChatButton">Create Group Chat</button>
      </div>
    </div>


    <div id="addProfileModal">
      <div class="modal-content">
          <span class="close" id="closeProfileModal">&times;</span>
          <h3>Change Profile Picture</h3>
          <div class="preview-container">
              <img id="imagePreview" src="/dist/default-avatar.png" alt="Preview">
          </div>
          <input
              type="file"
              id="profilePictureInput"
              accept="image/*"
              hidden
          />
          <button id="selectImageBtn" class="select-btn">Choose Image</button>
          <button id="uploadProfilePicture" class="upload-btn" disabled>Upload Picture</button>
      </div>
  </div>
    <script src="../dist/dashboard.bundle.js"></script>
</body>
</html>